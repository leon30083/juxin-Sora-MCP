# èšé‘« Sora-2 MCP Webç•Œé¢

è¿™æ˜¯ä¸€ä¸ªåŸºäºç°æœ‰MCPå·¥å…·çš„Webç•Œé¢ï¼Œè®©æ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ“ä½œè§†é¢‘ç”ŸæˆåŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¬ è§†é¢‘ç”Ÿæˆ
- **æ–‡ç”Ÿè§†é¢‘** - é€šè¿‡æ–‡å­—æè¿°ç”Ÿæˆè§†é¢‘
- **å›¾ç”Ÿè§†é¢‘** - ä¸Šä¼ å›¾ç‰‡å¹¶ç”Ÿæˆè§†é¢‘
- **è§’è‰²è§†é¢‘** - ä½¿ç”¨é¢„è®¾è§’è‰²ï¼ˆ@è§’è‰²åï¼‰ç”Ÿæˆè§†é¢‘

### ğŸ“Š ä»»åŠ¡ç®¡ç†
- å®æ—¶ä»»åŠ¡çŠ¶æ€ç›‘æ§
- æ‰¹é‡ä»»åŠ¡æŸ¥è¯¢
- ä»»åŠ¡ç»Ÿè®¡ä¿¡æ¯
- è§†é¢‘é¢„è§ˆå’Œä¸‹è½½

### ğŸ”„ å®æ—¶æ›´æ–°
- WebSocketå®æ—¶é€šä¿¡
- è‡ªåŠ¨çŠ¶æ€æ›´æ–°
- ä»»åŠ¡å®Œæˆé€šçŸ¥

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd web-server
npm install
```

### 2. å¯åŠ¨æœåŠ¡

**Windowsç”¨æˆ·ï¼š**
```bash
start-web.bat
```

**Mac/Linuxç”¨æˆ·ï¼š**
```bash
chmod +x start-web.sh
./start-web.sh
```

**æ‰‹åŠ¨å¯åŠ¨ï¼š**
```bash
# ç¡®ä¿MCPæœåŠ¡å™¨å·²æ„å»º
cd .. && npm run build && cd web-server

# å¯åŠ¨WebæœåŠ¡å™¨
npm install && node server.js
```

### 3. è®¿é—®ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3033

## ä½¿ç”¨è¯´æ˜

### åˆ›å»ºè§†é¢‘

#### æ–‡ç”Ÿè§†é¢‘
1. åˆ‡æ¢åˆ°"æ–‡ç”Ÿè§†é¢‘"æ ‡ç­¾
2. è¾“å…¥æè¿°æ€§æç¤ºè¯
3. é€‰æ‹©è§†é¢‘å‚æ•°ï¼ˆæ–¹å‘ã€åˆ†è¾¨ç‡ã€æ—¶é•¿ï¼‰
4. ç‚¹å‡»"åˆ›å»ºè§†é¢‘"

#### å›¾ç”Ÿè§†é¢‘
1. åˆ‡æ¢åˆ°"å›¾ç”Ÿè§†é¢‘"æ ‡ç­¾
2. ä¸Šä¼ å‚è€ƒå›¾ç‰‡ï¼ˆæ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ ï¼‰
3. å¯é€‰ï¼šè¾“å…¥é¢å¤–çš„å¤„ç†æç¤ºè¯
4. é€‰æ‹©è§†é¢‘å‚æ•°
5. ç‚¹å‡»"åˆ›å»ºè§†é¢‘"

#### è§’è‰²è§†é¢‘
1. åˆ‡æ¢åˆ°"è§’è‰²è§†é¢‘"æ ‡ç­¾
2. ä»ä¸‹æ‹‰èœå•é€‰æ‹©é¢„è®¾è§’è‰²
3. è¾“å…¥è§’è‰²çš„åŠ¨ä½œæè¿°
4. é€‰æ‹©è§†é¢‘å‚æ•°
5. ç‚¹å‡»"åˆ›å»ºè§’è‰²è§†é¢‘"

### ä»»åŠ¡ç®¡ç†

#### æŸ¥çœ‹ä»»åŠ¡
- æ‰€æœ‰ä»»åŠ¡è‡ªåŠ¨æ˜¾ç¤ºåœ¨å³ä¾§åˆ—è¡¨
- å¯ä»¥é€šè¿‡çŠ¶æ€è¿‡æ»¤å™¨ç­›é€‰ä»»åŠ¡
- ç‚¹å‡»ä»»åŠ¡æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

#### æ‰¹é‡æ“ä½œ
- ç‚¹å‡»"æ‰¹é‡æŸ¥è¯¢"æ›´æ–°æ‰€æœ‰è¿›è¡Œä¸­çš„ä»»åŠ¡
- ç³»ç»Ÿä¼šæ¯10ç§’è‡ªåŠ¨æ›´æ–°ä»»åŠ¡çŠ¶æ€

#### å®æ—¶é€šçŸ¥
- ä»»åŠ¡åˆ›å»ºæ—¶è‡ªåŠ¨é€šçŸ¥
- ä»»åŠ¡çŠ¶æ€å˜åŒ–æ—¶å®æ—¶æ›´æ–°
- æ”¯æŒæµè§ˆå™¨é€šçŸ¥ï¼ˆéœ€è¦æˆæƒï¼‰

## æŠ€æœ¯æ¶æ„

### åç«¯
- **Express.js** - WebæœåŠ¡å™¨æ¡†æ¶
- **WebSocket** - å®æ—¶é€šä¿¡
- **JuxinApiClient** - é›†æˆèšé‘«API
- **TaskManager** - ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

### å‰ç«¯
- **åŸç”ŸJavaScript** - æ— æ¡†æ¶ä¾èµ–
- **WebSocketå®¢æˆ·ç«¯** - å®æ—¶æ›´æ–°
- **å“åº”å¼è®¾è®¡** - æ”¯æŒç§»åŠ¨è®¾å¤‡
- **æ‹–æ‹½ä¸Šä¼ ** - ä¾¿æ·çš„å›¾ç‰‡ä¸Šä¼ 

## APIæ¥å£

### è§†é¢‘åˆ›å»º
```http
POST /api/video/create
Content-Type: application/json

{
  "prompt": "è§†é¢‘æè¿°",
  "orientation": "landscape|portrait",
  "size": "small|large",
  "duration": 10|15,
  "watermark": false,
  "private": true,
  "images": ["å›¾ç‰‡URLæ•°ç»„"]
}
```

### æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
```http
GET /api/video/status/{taskId}
```

### è·å–ä»»åŠ¡åˆ—è¡¨
```http
GET /api/tasks?status=all&limit=20
```

### æ‰¹é‡æŸ¥è¯¢
```http
POST /api/tasks/batch
Content-Type: application/json

{
  "task_ids": ["ä»»åŠ¡ID1", "ä»»åŠ¡ID2", ...]
}
```

### è·å–ç»Ÿè®¡ä¿¡æ¯
```http
GET /api/tasks/stats
```

## é…ç½®é€‰é¡¹

ç¯å¢ƒå˜é‡å¯ä»¥åœ¨ `server.js` ä¸­ä¿®æ”¹ï¼š

```javascript
const apiKey = process.env.JUXIN_API_KEY || 'é»˜è®¤å¯†é’¥';
const PORT = process.env.PORT || 3033;
```

## éƒ¨ç½²è¯´æ˜

### æœ¬åœ°éƒ¨ç½²
1. ç¡®ä¿Node.jsç‰ˆæœ¬ >= 18
2. å®‰è£…ä¾èµ–ï¼š`npm install`
3. æ„å»ºMCPæœåŠ¡å™¨ï¼š`cd .. && npm run build`
4. å¯åŠ¨æœåŠ¡ï¼š`node server.js`

### PM2éƒ¨ç½²ï¼ˆæ¨èï¼‰
```bash
npm install -g pm2
pm2 start server.js --name "juxin-web"
```

### Dockeréƒ¨ç½²
```dockerfile
FROM node:18-alpine

WORKDIR /app
COPY package*.json ./
RUN npm install

COPY .. ./dist
COPY . .

EXPOSE 3001
CMD ["node", "server.js"]
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   - ä¿®æ”¹ `PORT` ç¯å¢ƒå˜é‡
   - æˆ–å…³é—­å ç”¨3001ç«¯å£çš„ç¨‹åº

2. **MCPæœåŠ¡å™¨æœªæ„å»º**
   - è¿è¡Œ `cd .. && npm run build`

3. **è¿æ¥å¤±è´¥**
   - æ£€æŸ¥èšé‘«APIå¯†é’¥æ˜¯å¦æ­£ç¡®
   - æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

4. **WebSocketè¿æ¥é—®é¢˜**
   - åˆ·æ–°é¡µé¢é‡æ–°è¿æ¥
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

## å¼€å‘è¯´æ˜

### é¡¹ç›®ç»“æ„
```
web-server/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html      # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ style.css       # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ app.js          # å‰ç«¯é€»è¾‘
â”œâ”€â”€ uploads/            # ä¸´æ—¶ä¸Šä¼ ç›®å½•
â”œâ”€â”€ server.js          # ExpressæœåŠ¡å™¨
â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”œâ”€â”€ start-web.bat     # Windowså¯åŠ¨è„šæœ¬
â”œâ”€â”€ start-web.sh      # Linux/Macå¯åŠ¨è„šæœ¬
â””â”€â”€ README.md          # è¯´æ˜æ–‡æ¡£
```

### æ‰©å±•åŠŸèƒ½
- æ·»åŠ æ–°çš„è§†é¢‘å‚æ•°
- å¢åŠ æ›´å¤šè§’è‰²é€‰æ‹©
- å®ç°è§†é¢‘ç¼–è¾‘åŠŸèƒ½
- æ·»åŠ ç”¨æˆ·è®¤è¯

## è®¸å¯è¯

MIT License